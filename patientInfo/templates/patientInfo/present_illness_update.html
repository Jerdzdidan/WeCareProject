{% extends "home/layout.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block style %}
  <link rel="stylesheet" href="{% static 'residentInfo/main.css' %}">
  <style>
    .form-section {
      margin-bottom: 1rem;
    }
  </style>
{% endblock style %}

{% block body %}
<h3>Update Present Illness for Patient: <span class="text-primary">{{ patient.patientID }}</span></h3>
<article class="content-section shadow-sm rounded p-3">
    <form method="post">
    {% csrf_token %}
    <div class="form-section">
        <label for="illness_name" class="form-label">Illness Name</label>
        <input type="text" id="illness_name" name="illness_name" class="form-control" value="{{ present_illness.illness_name }}" required>
    </div>
    <div class="form-section">
        <label for="start_date" class="form-label">Start Date</label>
        <input type="text" id="start_date" name="start_date" class="form-control flatpickr" value="{{ present_illness.start_date|date:'Y-m-d' }}" required>
    </div>
    <div class="form-section">
        <label for="treatment" class="form-label">Treatment</label>
        <textarea id="treatment" name="treatment" class="form-control" rows="4">{{ present_illness.treatment }}</textarea>
    </div>
    <div class="d-flex justify-content-end">
        <button type="submit" class="btn btn-success">Update</button>
        <a href="{% url 'patient-detail' patient.patientID %}" class="btn btn-secondary ms-2">Cancel</a>
    </div>
    </form>
</article>
{% endblock body %}
