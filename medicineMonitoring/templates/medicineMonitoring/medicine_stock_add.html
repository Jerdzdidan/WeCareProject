{% extends "home/layout.html" %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'medicine/main.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<style>
  /* Additional styling if needed */
</style>
{% endblock style %}

{% block body %}
<h3 class="mb-3">Medicine Monitoring - <span class="text-primary">Add Stock</span></h3>
<article class="content-section border rounded shadow">
  <h4>Add Stock for Medicine: <span class="text-primary">{{ medicine.medicine_name }}</span></h4>
  <form method="post">
    {% csrf_token %}
    <div class="mb-3">
      <label for="quantity" class="form-label fw-semibold">Quantity:</label>
      <input type="number" id="quantity" name="quantity" class="form-control border-secondary-subtle shadow" placeholder="e.g. 100" required>
    </div>
    <div class="mb-3">
      <label for="expiration_date" class="form-label fw-semibold">Expiration Date:</label>
      <div class="input-group shadow">
        <input type="text" id="expiration_date" name="expiration_date" class="form-control border-secondary-subtle flatpickr" placeholder="Select expiration date" required>
        <span class="input-group-text shadow border-secondary-subtle">
          <i class="ri-calendar-line"></i>
        </span>
      </div>
    </div>
    <div class="mb-3">
      <label for="notes" class="form-label fw-semibold">Notes:</label>
      <textarea class="form-control border-secondary-subtle shadow" id="notes" name="notes" rows="3" placeholder="Enter any additional details or remarks here..."></textarea>
    </div>
    <div class="d-flex justify-content-end">
      <button type="submit" class="btn btn-success">Add Stock</button>
      <a href="{% url 'medicine-detail' medicine.pk %}" class="btn btn-secondary ms-2">Cancel</a>
    </div>
  </form>
</article>
{% endblock body %}

{% block script %}
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    flatpickr(".flatpickr", {
      dateFormat: "M j, Y",  // e.g., "Jan 25, 2025"
      allowInput: true,
      autoClose: true
    });
  });
</script>
{% endblock script %}
